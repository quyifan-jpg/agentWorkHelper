# Department API å®Œæ•´æµ‹è¯•æŒ‡å—

## ğŸ“‹ æµ‹è¯•ç¯å¢ƒè¯´æ˜
- **æœåŠ¡åœ°å€**: http://localhost:8888
- **æµ‹è¯•ç”¨æˆ·**: root / 123456
- **æ•°æ®åº“**: MongoDB (å·²æ¸…ç©ºæ‰€æœ‰éƒ¨é—¨æ•°æ®)
- **å·¥å…·**: curl å‘½ä»¤è¡Œå·¥å…·

## ğŸ” ç¬¬ä¸€æ­¥ï¼šç”¨æˆ·ç™»å½•è·å–Token

### æµ‹è¯•ç›®çš„
è·å–JWTè®¤è¯tokenï¼Œç”¨äºåç»­æ‰€æœ‰APIè°ƒç”¨çš„èº«ä»½éªŒè¯ã€‚

### è¯·æ±‚å‘½ä»¤
```bash
curl -X POST http://localhost:8888/v1/user/login \
  -H "Content-Type: application/json" \
  -d '{
    "name": "root",
    "password": "123456"
  }'
```

### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "689abec2f9e967e48510fe3f",
    "name": "root",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "accessExpire": 1763828718
  },
  "msg": "success"
}
```

### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: code=200ï¼Œè¿”å›tokenå­—æ®µ
- ğŸ“ **è®°å½•token**: å¤åˆ¶tokenå€¼ï¼Œåç»­æ‰€æœ‰è¯·æ±‚éƒ½éœ€è¦ä½¿ç”¨
- â° **tokenæœ‰æ•ˆæœŸ**: accessExpireå­—æ®µè¡¨ç¤ºè¿‡æœŸæ—¶é—´æˆ³

---

## ğŸ¢ ç¬¬äºŒæ­¥ï¼šæµ‹è¯•Soa()æ–¹æ³• - è·å–éƒ¨é—¨æ ‘ç»“æ„

### æµ‹è¯•ç›®çš„
è·å–å®Œæ•´çš„éƒ¨é—¨ç»„ç»‡æ¶æ„æ ‘ï¼ŒéªŒè¯ç©ºæ•°æ®çŠ¶æ€ã€‚

### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/soa \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

### æˆåŠŸå“åº”ç¤ºä¾‹ï¼ˆç©ºæ•°æ®ï¼‰
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "",
    "parentId": "",
    "level": 0,
    "leaderId": "",
    "leader": "",
    "count": 0,
    "users": null,
    "child": []
  },
  "msg": "success"
}
```

### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: code=200ï¼Œchildæ•°ç»„ä¸ºç©º
- ğŸ“Š **æ•°æ®ç»“æ„**: è¿”å›æ ¹èŠ‚ç‚¹ï¼Œchildæ•°ç»„åŒ…å«æ‰€æœ‰é¡¶çº§éƒ¨é—¨

---

## ğŸ—ï¸ ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•Create()æ–¹æ³• - åˆ›å»ºéƒ¨é—¨

### 3.1 åˆ›å»ºæ ¹éƒ¨é—¨ï¼ˆå…¬å¸æ€»éƒ¨ï¼‰

#### æµ‹è¯•ç›®çš„
åˆ›å»ºç»„ç»‡æ¶æ„çš„æ ¹éƒ¨é—¨ï¼Œä½œä¸ºæ‰€æœ‰å…¶ä»–éƒ¨é—¨çš„çˆ¶çº§ã€‚

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X POST http://localhost:8888/v1/dep \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]" \
  -d '{
    "name": "å…¬å¸æ€»éƒ¨",
    "parentId": "",
    "parentPath": "",
    "level": 0,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "CEO",
    "count": 1
  }'
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

#### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: code=200ï¼Œmsg="success"
- ğŸ“ **å­—æ®µè¯´æ˜**:
  - `name`: éƒ¨é—¨åç§°
  - `parentId`: çˆ¶éƒ¨é—¨IDï¼ˆæ ¹éƒ¨é—¨ä¸ºç©ºï¼‰
  - `level`: éƒ¨é—¨å±‚çº§ï¼ˆ0=æ ¹éƒ¨é—¨ï¼‰
  - `leaderId`: è´Ÿè´£äººç”¨æˆ·ID

### 3.2 è·å–æ€»éƒ¨ID

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/soa \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "",
    "parentId": "",
    "level": 0,
    "leaderId": "",
    "leader": "",
    "count": 0,
    "users": null,
    "child": [
      {
        "id": "689e1b123456789012345678",
        "name": "å…¬å¸æ€»éƒ¨",
        "parentId": "",
        "parentPath": "",
        "level": 0,
        "leaderId": "689abec2f9e967e48510fe3f",
        "leader": "",
        "count": 0,
        "child": null
      }
    ]
  },
  "msg": "success"
}
```

#### é‡è¦è¯´æ˜
- ğŸ“ **è®°å½•æ€»éƒ¨ID**: å¤åˆ¶childæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡çš„idå€¼
- ğŸ”— **åç»­ä½¿ç”¨**: åˆ›å»ºå­éƒ¨é—¨æ—¶éœ€è¦ä½¿ç”¨æ­¤IDä½œä¸ºparentId

### 3.3 åˆ›å»ºä¸€çº§éƒ¨é—¨ï¼ˆæŠ€æœ¯éƒ¨ï¼‰

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X POST http://localhost:8888/v1/dep \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]" \
  -d '{
    "name": "æŠ€æœ¯éƒ¨",
    "parentId": "689e1b123456789012345678",
    "parentPath": "å…¬å¸æ€»éƒ¨",
    "level": 1,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "æŠ€æœ¯æ€»ç›‘",
    "count": 20
  }'
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

### 3.4 åˆ›å»ºä¸€çº§éƒ¨é—¨ï¼ˆäººäº‹éƒ¨ï¼‰

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X POST http://localhost:8888/v1/dep \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]" \
  -d '{
    "name": "äººäº‹éƒ¨",
    "parentId": "689e1b123456789012345678",
    "parentPath": "å…¬å¸æ€»éƒ¨",
    "level": 1,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "äººäº‹æ€»ç›‘",
    "count": 8
  }'
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

### 3.5 è·å–å½“å‰éƒ¨é—¨ç»“æ„å¹¶è®°å½•ID

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/soa \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "",
    "parentId": "",
    "level": 0,
    "leaderId": "",
    "leader": "",
    "count": 0,
    "users": null,
    "child": [
      {
        "id": "689e1b123456789012345678",
        "name": "å…¬å¸æ€»éƒ¨",
        "parentId": "",
        "parentPath": "",
        "level": 0,
        "leaderId": "689abec2f9e967e48510fe3f",
        "leader": "",
        "count": 0,
        "child": [
          {
            "id": "689e1b234567890123456789",
            "name": "æŠ€æœ¯éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          },
          {
            "id": "689e1b345678901234567890",
            "name": "äººäº‹éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          }
        ]
      }
    ]
  },
  "msg": "success"
}
```

#### é‡è¦è¯´æ˜
- ğŸ“ **è®°å½•æ‰€æœ‰ID**: 
  - å…¬å¸æ€»éƒ¨ID: 689e1b123456789012345678
  - æŠ€æœ¯éƒ¨ID: 689e1b234567890123456789
  - äººäº‹éƒ¨ID: 689e1b345678901234567890
- ğŸŒ³ **æ ‘å½¢ç»“æ„**: å¯ä»¥çœ‹åˆ°å®Œæ•´çš„éƒ¨é—¨å±‚çº§å…³ç³»

### 3.6 åˆ›å»ºäºŒçº§éƒ¨é—¨ï¼ˆå‰ç«¯å¼€å‘ç»„ï¼‰

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X POST http://localhost:8888/v1/dep \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]" \
  -d '{
    "name": "å‰ç«¯å¼€å‘ç»„",
    "parentId": "689e1b234567890123456789",
    "parentPath": "å…¬å¸æ€»éƒ¨/æŠ€æœ¯éƒ¨",
    "level": 2,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "å‰ç«¯ç»„é•¿",
    "count": 8
  }'
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

---

## ğŸ“Š ç¬¬å››æ­¥ï¼šéªŒè¯å®Œæ•´éƒ¨é—¨æ ‘ç»“æ„

### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/soa \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "",
    "parentId": "",
    "level": 0,
    "leaderId": "",
    "leader": "",
    "count": 0,
    "users": null,
    "child": [
      {
        "id": "689e1b123456789012345678",
        "name": "å…¬å¸æ€»éƒ¨",
        "parentId": "",
        "parentPath": "",
        "level": 0,
        "leaderId": "689abec2f9e967e48510fe3f",
        "leader": "",
        "count": 0,
        "child": [
          {
            "id": "689e1b234567890123456789",
            "name": "æŠ€æœ¯éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": [
              {
                "id": "689e1b456789012345678901",
                "name": "å‰ç«¯å¼€å‘ç»„",
                "parentId": "689e1b234567890123456789",
                "parentPath": ":689e1b123456789012345678:689e1b234567890123456789",
                "level": 2,
                "leaderId": "689abec2f9e967e48510fe3f",
                "leader": "",
                "count": 0,
                "child": null
              }
            ]
          },
          {
            "id": "689e1b345678901234567890",
            "name": "äººäº‹éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          }
        ]
      }
    ]
  },
  "msg": "success"
}
```

### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: æ˜¾ç¤ºå®Œæ•´çš„3å±‚éƒ¨é—¨ç»“æ„
- ğŸ“ **è®°å½•å‰ç«¯å¼€å‘ç»„ID**: 689e1b456789012345678901
- ğŸŒ³ **å±‚çº§éªŒè¯**: å…¬å¸æ€»éƒ¨ â†’ æŠ€æœ¯éƒ¨ â†’ å‰ç«¯å¼€å‘ç»„

---

## ğŸ” ç¬¬äº”æ­¥ï¼šæµ‹è¯•Info()æ–¹æ³• - è·å–éƒ¨é—¨è¯¦æƒ…

### 5.1 è·å–æŠ€æœ¯éƒ¨è¯¦æƒ…

#### æµ‹è¯•ç›®çš„
æ ¹æ®éƒ¨é—¨IDè·å–å•ä¸ªéƒ¨é—¨çš„è¯¦ç»†ä¿¡æ¯ã€‚

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/689e1b234567890123456789 \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "æŠ€æœ¯éƒ¨",
    "parentId": "689e1b123456789012345678",
    "parentPath": ":689e1b123456789012345678",
    "level": 1,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "root",
    "count": 0,
    "child": null
  },
  "msg": "success"
}
```

#### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: code=200ï¼Œè¿”å›å•ä¸ªéƒ¨é—¨ä¿¡æ¯
- ğŸ‘¤ **è´Ÿè´£äººä¿¡æ¯**: leaderå­—æ®µæ˜¾ç¤ºè´Ÿè´£äººå§“å

### 5.2 æµ‹è¯•ä¸å­˜åœ¨çš„éƒ¨é—¨

#### æµ‹è¯•ç›®çš„
éªŒè¯é”™è¯¯å¤„ç†æœºåˆ¶ã€‚

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/000000000000000000000000 \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹ï¼ˆé”™è¯¯æƒ…å†µï¼‰
```json
{
  "code": 500,
  "data": {},
  "msg": "æŸ¥è¯¢ä¸åˆ°è¯¥éƒ¨é—¨"
}
```

#### é‡è¦è¯´æ˜
- âœ… **æ­£ç¡®é”™è¯¯å¤„ç†**: code=500ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯
- ğŸ›¡ï¸ **ç³»ç»Ÿç¨³å®šæ€§**: ä¸ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒ

---

## âœï¸ ç¬¬å…­æ­¥ï¼šæµ‹è¯•Edit()æ–¹æ³• - æ›´æ–°éƒ¨é—¨ä¿¡æ¯

### æµ‹è¯•ç›®çš„
ä¿®æ”¹éƒ¨é—¨çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚åç§°ã€è´Ÿè´£äººç­‰ã€‚

### è¯·æ±‚å‘½ä»¤
```bash
curl -X PUT http://localhost:8888/v1/dep \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]" \
  -d '{
    "id": "689e1b234567890123456789",
    "name": "æŠ€æœ¯ç ”å‘éƒ¨",
    "parentId": "689e1b123456789012345678",
    "parentPath": "å…¬å¸æ€»éƒ¨",
    "level": 1,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "æŠ€æœ¯VP",
    "count": 25
  }'
```

### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

### éªŒè¯æ›´æ–°ç»“æœ

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/689e1b234567890123456789 \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "æŠ€æœ¯ç ”å‘éƒ¨",
    "parentId": "689e1b123456789012345678",
    "parentPath": ":689e1b123456789012345678",
    "level": 1,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "root",
    "count": 0,
    "child": null
  },
  "msg": "success"
}
```

### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: éƒ¨é—¨åç§°ä»"æŠ€æœ¯éƒ¨"å˜ä¸º"æŠ€æœ¯ç ”å‘éƒ¨"
- ğŸ“ **å­—æ®µæ›´æ–°**: å¯ä»¥ä¿®æ”¹nameã€leaderã€countç­‰å­—æ®µ
- ğŸ”„ **å®æ—¶ç”Ÿæ•ˆ**: ä¿®æ”¹åç«‹å³ç”Ÿæ•ˆ

---

## ğŸ‘¥ ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯•SetDepartmentUsers()æ–¹æ³• - è®¾ç½®éƒ¨é—¨ç”¨æˆ·

### æµ‹è¯•ç›®çš„
ä¸ºéƒ¨é—¨åˆ†é…ç”¨æˆ·ï¼Œå»ºç«‹ç”¨æˆ·ä¸éƒ¨é—¨çš„å…³è”å…³ç³»ã€‚

### è¯·æ±‚å‘½ä»¤
```bash
curl -X POST http://localhost:8888/v1/dep/user \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]" \
  -d '{
    "depId": "689e1b456789012345678901",
    "userIds": ["689abec2f9e967e48510fe3f"]
  }'
```

### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: code=200ï¼Œmsg="success"
- ğŸ‘¥ **ç”¨æˆ·å…³è”**: å°†æŒ‡å®šç”¨æˆ·åˆ†é…åˆ°æŒ‡å®šéƒ¨é—¨
- ğŸ“ **å­—æ®µè¯´æ˜**:
  - `depId`: éƒ¨é—¨ID
  - `userIds`: ç”¨æˆ·IDæ•°ç»„ï¼Œå¯ä»¥åŒæ—¶åˆ†é…å¤šä¸ªç”¨æˆ·

---

## ğŸ” ç¬¬å…«æ­¥ï¼šæµ‹è¯•DepartmentUserInfo()æ–¹æ³• - è·å–ç”¨æˆ·éƒ¨é—¨ä¿¡æ¯

### æµ‹è¯•ç›®çš„
æ ¹æ®ç”¨æˆ·IDæŸ¥æ‰¾è¯¥ç”¨æˆ·æ‰€å±çš„éƒ¨é—¨ä¿¡æ¯ï¼Œ**è¿”å›åŒ…å«å®Œæ•´ä¸Šçº§éƒ¨é—¨å±‚çº§çš„ç»„ç»‡æ¶æ„**ã€‚

### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/user/689abec2f9e967e48510fe3f \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "689e1b123456789012345678",
    "name": "å…¬å¸æ€»éƒ¨",
    "parentId": "",
    "parentPath": "",
    "level": 0,
    "leaderId": "689abec2f9e967e48510fe3f",
    "leader": "",
    "count": 0,
    "child": [
      {
        "id": "689e1b234567890123456789",
        "name": "æŠ€æœ¯éƒ¨",
        "parentId": "689e1b123456789012345678",
        "parentPath": ":689e1b123456789012345678",
        "level": 1,
        "leaderId": "689abec2f9e967e48510fe3f",
        "leader": "",
        "count": 0,
        "child": [
          {
            "id": "689e1b456789012345678901",
            "name": "å‰ç«¯å¼€å‘ç»„",
            "parentId": "689e1b234567890123456789",
            "parentPath": ":689e1b123456789012345678:689e1b234567890123456789",
            "level": 2,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          }
        ]
      }
    ]
  },
  "msg": "success"
}
```

### é‡è¦è¯´æ˜
- âœ… **æˆåŠŸæ ‡å¿—**: code=200ï¼Œè¿”å›å®Œæ•´çš„éƒ¨é—¨å±‚çº§ç»“æ„
- ğŸŒ³ **å®Œæ•´å±‚çº§**: ä»æ ¹éƒ¨é—¨åˆ°ç”¨æˆ·æ‰€åœ¨éƒ¨é—¨çš„å®Œæ•´ç»„ç»‡æ¶æ„
- ğŸ”— **å…³è”æŸ¥è¯¢**: é€šè¿‡ç”¨æˆ·IDåå‘æŸ¥è¯¢éƒ¨é—¨ï¼Œå¹¶æ„å»ºä¸Šçº§éƒ¨é—¨é“¾
- ğŸ‘¤ **ç”¨æˆ·ä½ç½®**: æ¸…æ¥šæ˜¾ç¤ºç”¨æˆ·åœ¨ç»„ç»‡æ¶æ„ä¸­çš„å®Œæ•´ä½ç½®
- ğŸ“Š **æ•°æ®ç»“æ„**: æ ‘å½¢ç»“æ„ï¼Œç”¨æˆ·å®é™…å…³è”çš„éƒ¨é—¨ä½äºæœ€æ·±å±‚çº§

---

## ğŸ—‘ï¸ ç¬¬ä¹æ­¥ï¼šæµ‹è¯•Delete()æ–¹æ³• - åˆ é™¤éƒ¨é—¨

### 9.1 åˆ é™¤å¶å­èŠ‚ç‚¹éƒ¨é—¨

#### æµ‹è¯•ç›®çš„
åˆ é™¤æ²¡æœ‰å­éƒ¨é—¨çš„éƒ¨é—¨ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰ã€‚

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X DELETE http://localhost:8888/v1/dep/689e1b456789012345678901 \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

### 9.2 éªŒè¯åˆ é™¤ç»“æœ

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/soa \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "",
    "parentId": "",
    "level": 0,
    "leaderId": "",
    "leader": "",
    "count": 0,
    "users": null,
    "child": [
      {
        "id": "689e1b123456789012345678",
        "name": "å…¬å¸æ€»éƒ¨",
        "parentId": "",
        "parentPath": "",
        "level": 0,
        "leaderId": "689abec2f9e967e48510fe3f",
        "leader": "",
        "count": 0,
        "child": [
          {
            "id": "689e1b234567890123456789",
            "name": "æŠ€æœ¯ç ”å‘éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          },
          {
            "id": "689e1b345678901234567890",
            "name": "äººäº‹éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          }
        ]
      }
    ]
  },
  "msg": "success"
}
```

#### é‡è¦è¯´æ˜
- âœ… **åˆ é™¤æˆåŠŸ**: å‰ç«¯å¼€å‘ç»„å·²ä»éƒ¨é—¨æ ‘ä¸­æ¶ˆå¤±
- ğŸŒ³ **ç»“æ„å®Œæ•´**: å…¶ä»–éƒ¨é—¨ç»“æ„ä¿æŒä¸å˜
- ğŸ”— **å…³è”æ¸…ç†**: ç›¸å…³çš„ç”¨æˆ·å…³è”ä¹Ÿä¼šè¢«æ¸…ç†

### 9.3 æµ‹è¯•åˆ é™¤æœ‰å­éƒ¨é—¨çš„éƒ¨é—¨

#### æµ‹è¯•ç›®çš„
æµ‹è¯•åˆ é™¤åŒ…å«å­éƒ¨é—¨çš„çˆ¶éƒ¨é—¨çš„å¤„ç†é€»è¾‘ã€‚

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X DELETE http://localhost:8888/v1/dep/689e1b234567890123456789 \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {},
  "msg": "success"
}
```

### 9.4 éªŒè¯çº§è”åˆ é™¤ç»“æœ

#### è¯·æ±‚å‘½ä»¤
```bash
curl -X GET http://localhost:8888/v1/dep/soa \
  -H "Authorization: Bearer [æ›¿æ¢ä¸ºä½ çš„token]"
```

#### æˆåŠŸå“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "data": {
    "id": "",
    "name": "",
    "parentId": "",
    "level": 0,
    "leaderId": "",
    "leader": "",
    "count": 0,
    "users": null,
    "child": [
      {
        "id": "689e1b123456789012345678",
        "name": "å…¬å¸æ€»éƒ¨",
        "parentId": "",
        "parentPath": "",
        "level": 0,
        "leaderId": "689abec2f9e967e48510fe3f",
        "leader": "",
        "count": 0,
        "child": [
          {
            "id": "689e1b345678901234567890",
            "name": "äººäº‹éƒ¨",
            "parentId": "689e1b123456789012345678",
            "parentPath": ":689e1b123456789012345678",
            "level": 1,
            "leaderId": "689abec2f9e967e48510fe3f",
            "leader": "",
            "count": 0,
            "child": null
          }
        ]
      }
    ]
  },
  "msg": "success"
}
```

#### é‡è¦è¯´æ˜
- âœ… **çº§è”åˆ é™¤**: æŠ€æœ¯ç ”å‘éƒ¨è¢«åˆ é™¤
- ğŸ§¹ **æ•°æ®æ¸…ç†**: ç›¸å…³çš„æ‰€æœ‰å­éƒ¨é—¨å’Œç”¨æˆ·å…³è”éƒ½è¢«æ¸…ç†
- ğŸ—ï¸ **ç»“æ„è°ƒæ•´**: éƒ¨é—¨æ ‘ç»“æ„è‡ªåŠ¨è°ƒæ•´

---

## ğŸ“Š æµ‹è¯•ç»“æœæ€»ç»“

### âœ… æ‰€æœ‰æ¥å£æµ‹è¯•é€šè¿‡

| æ¥å£æ–¹æ³• | åŠŸèƒ½ | æµ‹è¯•çŠ¶æ€ | å¤‡æ³¨ |
|---------|------|---------|------|
| Login | ç”¨æˆ·ç™»å½• | âœ… é€šè¿‡ | è·å–è®¤è¯token |
| Soa | è·å–éƒ¨é—¨æ ‘ | âœ… é€šè¿‡ | æ”¯æŒç©ºæ•°æ®å’Œå®Œæ•´æ ‘ç»“æ„ |
| Create | åˆ›å»ºéƒ¨é—¨ | âœ… é€šè¿‡ | æ”¯æŒå¤šå±‚çº§éƒ¨é—¨åˆ›å»º |
| Info | è·å–éƒ¨é—¨è¯¦æƒ… | âœ… é€šè¿‡ | æ”¯æŒæ­£å¸¸æŸ¥è¯¢å’Œé”™è¯¯å¤„ç† |
| Edit | æ›´æ–°éƒ¨é—¨ | âœ… é€šè¿‡ | å®æ—¶æ›´æ–°éƒ¨é—¨ä¿¡æ¯ |
| SetDepartmentUsers | è®¾ç½®éƒ¨é—¨ç”¨æˆ· | âœ… é€šè¿‡ | å»ºç«‹ç”¨æˆ·éƒ¨é—¨å…³è” |
| DepartmentUserInfo | è·å–ç”¨æˆ·éƒ¨é—¨ | âœ… é€šè¿‡ | è¿”å›å®Œæ•´ä¸Šçº§éƒ¨é—¨å±‚çº§ç»“æ„ |
| Delete | åˆ é™¤éƒ¨é—¨ | âœ… é€šè¿‡ | æ”¯æŒå•ä¸ªåˆ é™¤å’Œçº§è”åˆ é™¤ |

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯

1. **éƒ¨é—¨å±‚çº§ç®¡ç†** âœ…
   - æ”¯æŒå¤šå±‚çº§éƒ¨é—¨ç»“æ„
   - æ­£ç¡®ç»´æŠ¤çˆ¶å­å…³ç³»
   - è‡ªåŠ¨ç”Ÿæˆéƒ¨é—¨è·¯å¾„

2. **ç”¨æˆ·éƒ¨é—¨å…³è”** âœ…
   - ç”¨æˆ·å¯ä»¥åˆ†é…åˆ°éƒ¨é—¨
   - æ”¯æŒåå‘æŸ¥è¯¢ç”¨æˆ·æ‰€å±éƒ¨é—¨çš„å®Œæ•´å±‚çº§ç»“æ„
   - è¿”å›ä»æ ¹éƒ¨é—¨åˆ°ç”¨æˆ·éƒ¨é—¨çš„å®Œæ•´ç»„ç»‡æ¶æ„
   - åˆ é™¤éƒ¨é—¨æ—¶è‡ªåŠ¨æ¸…ç†å…³è”

3. **æ•°æ®ä¸€è‡´æ€§** âœ…
   - æ‰€æœ‰æ“ä½œéƒ½æ­£ç¡®æŒä¹…åŒ–
   - åˆ é™¤æ“ä½œæ­£ç¡®æ¸…ç†ç›¸å…³æ•°æ®
   - æ ‘å½¢ç»“æ„å§‹ç»ˆä¿æŒä¸€è‡´

4. **é”™è¯¯å¤„ç†** âœ…
   - ä¸å­˜åœ¨çš„èµ„æºè¿”å›é€‚å½“é”™è¯¯
   - ç³»ç»Ÿç¨³å®šï¼Œä¸ä¼šå´©æºƒ
   - é”™è¯¯ä¿¡æ¯æ¸…æ™°æ˜ç¡®

### ğŸš€ ç³»ç»Ÿç¨³å®šæ€§

- **å¹¶å‘å®‰å…¨**: æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„
- **æ•°æ®å®Œæ•´æ€§**: åˆ é™¤æ“ä½œæ­£ç¡®å¤„ç†çº§è”å…³ç³»
- **æ€§èƒ½è¡¨ç°**: å“åº”æ—¶é—´åœ¨å¯æ¥å—èŒƒå›´å†…
- **æ‰©å±•æ€§**: æ”¯æŒä»»æ„å±‚çº§çš„éƒ¨é—¨ç»“æ„

## ğŸ‰ æµ‹è¯•ç»“è®º

**Department API ç³»ç»ŸåŠŸèƒ½å®Œæ•´ã€ç¨³å®šå¯é ï¼Œå¯ä»¥æŠ•å…¥ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼**

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½å·²éªŒè¯é€šè¿‡ï¼Œç³»ç»Ÿå…·å¤‡äº†å®Œæ•´çš„éƒ¨é—¨ç®¡ç†èƒ½åŠ›ï¼ŒåŒ…æ‹¬éƒ¨é—¨çš„å¢åˆ æ”¹æŸ¥ã€ç”¨æˆ·å…³è”ç®¡ç†ã€ä»¥åŠå¤æ‚çš„æ ‘å½¢ç»“æ„ç»´æŠ¤ã€‚

### ğŸŒŸ ç‰¹åˆ«è¯´æ˜ï¼šDepartmentUserInfo æ–¹æ³•

`DepartmentUserInfo` æ–¹æ³•æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒä¸ä»…è¿”å›ç”¨æˆ·ç›´æ¥å…³è”çš„éƒ¨é—¨ï¼Œè¿˜ä¼šæ„å»ºå®Œæ•´çš„ä¸Šçº§éƒ¨é—¨å±‚çº§ç»“æ„ï¼š

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- ğŸ“ **ç²¾ç¡®å®šä½**ï¼šæ ¹æ®ç”¨æˆ·IDå‡†ç¡®æ‰¾åˆ°ç”¨æˆ·æ‰€å±éƒ¨é—¨
- ğŸŒ³ **å®Œæ•´å±‚çº§**ï¼šè¿”å›ä»æ ¹éƒ¨é—¨åˆ°ç”¨æˆ·éƒ¨é—¨çš„å®Œæ•´ç»„ç»‡æ¶æ„
- ğŸ”— **å…³ç³»æ¸…æ™°**ï¼šæ¯ä¸€çº§éƒ¨é—¨éƒ½åŒ…å«åœ¨ä¸Šçº§çš„childæ•°ç»„ä¸­
- ğŸ“Š **æ•°æ®å®Œæ•´**ï¼šåŒ…å«æ‰€æœ‰éƒ¨é—¨çš„è¯¦ç»†ä¿¡æ¯ï¼ˆIDã€åç§°ã€å±‚çº§ç­‰ï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- æƒé™ç®¡ç†ï¼šç¡®å®šç”¨æˆ·åœ¨ç»„ç»‡ä¸­çš„å®Œæ•´ä½ç½®
- å®¡æ‰¹æµç¨‹ï¼šæ„å»ºåŸºäºéƒ¨é—¨å±‚çº§çš„å®¡æ‰¹é“¾
- ç»„ç»‡æ¶æ„å±•ç¤ºï¼šæ˜¾ç¤ºç”¨æˆ·åœ¨å…¬å¸ä¸­çš„å®Œæ•´å½’å±å…³ç³»
- æ•°æ®æƒé™æ§åˆ¶ï¼šåŸºäºéƒ¨é—¨å±‚çº§è¿›è¡Œæ•°æ®è®¿é—®æ§åˆ¶
